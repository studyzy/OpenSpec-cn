# 简体中文汉化设计

## Context
OpenSpec目前是纯英文工具，但中文开发者有使用中文界面的需求。目标是通过最小代码改动实现汉化，保持现有架构不变。

## Goals
- **可访问性**: 让OpenSpec对中文用户更友好
- **最小改动**: 只修改用户可见的字符串，保持代码结构不变
- **简单性**: 不添加i18n架构，直接替换字符串
- **可选性**: 中文版本作为替代方案，英文版本保持原样

## Non-Goals
- **国际化架构**: 不添加i18n/l10n支持
- **语言检测**: 不添加自动语言检测功能
- **运行时切换**: 不提供运行时语言切换
- **多语言支持**: 只支持中文和英文，不扩展到其他语言

## Decisions

### Decision: 直接字符串替换
- **什么**: 直接在代码中替换英文字符串为中文
- **为什么**: 最简单直接的方案，无需额外架构
- **替代方案**: i18n架构 - 过于复杂，不符合最小改动原则

### Decision: 中文模板文件
- **什么**: 创建中文版本的模板文件
- **为什么**: 模板内容需要完整汉化，直接替换最合适
- **替代方案**: 模板变量替换 - 不适合复杂的markdown内容

### Decision: 无语言检测
- **什么**: 不添加自动语言检测
- **为什么**: 简化实现，用户可以选择使用中文版或英文版
- **替代方案**: 环境变量检测 - 增加不必要的复杂性

## 实现方案

### CLI命令汉化
- 直接在`src/cli/index.ts`中替换命令描述和帮助文本
- 在`src/core/init.ts`等核心文件中直接替换用户界面字符串
- 保持错误消息和成功消息的中文版本

### 模板文件汉化
```
src/core/templates/
├── agents-template.ts          # 英文模板（保持原样）
├── agents-template-zh.ts       # 中文模板（新增）
└── slash-commands/
    ├── proposal-en.md          # 英文slash命令模板
    └── proposal-zh.md          # 中文slash命令模板
```

### 使用方式
- 用户可以选择安装中文版本或英文版本
- 或者通过配置选择使用哪种语言的模板
- 保持向后兼容，英文版本不受影响

## Risks / Trade-offs

### Risk: 翻译质量
- **缓解**: 由中文母语者进行翻译和校对
- **权衡**: 初始翻译可能需要根据用户反馈迭代改进

### Risk: 维护复杂性
- **缓解**: 中文版本与英文版本独立，维护相对简单
- **权衡**: 需要维护两套模板文件

### Risk: 用户体验
- **缓解**: 提供清晰的安装和使用说明
- **权衡**: 用户需要手动选择语言版本

## 实施计划
- **阶段1**: 汉化CLI命令用户界面
- **阶段2**: 汉化模板文件内容
- **阶段3**: 测试和验证中文版本
- **阶段4**: 发布中文版本

无需回滚计划，因为英文版本保持原样。